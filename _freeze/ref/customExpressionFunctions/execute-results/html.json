{
  "hash": "4b21afb6cb35b1445870e7639369a510",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Custom Expression Functions\ntoc: true\ntoc-depth: 1\n---\n\n\n\n\nExpression functions are functions that can be used inside expressions and – by extension – in calculated values, dynamic texts and dynamic visibility. SurveyJS includes many built-in functions you can use. The most up-to-date documentation of these (especially including `iff()`, `max()`, `min()` and `avg()`) is the [SurveyJS documentation](https://surveyjs.io/form-library/documentation/design-survey/conditional-logic#built-in-functions).\n\nVeles adds some custom, research-tailored expression functions to the mix. You can use them as you would with the built-in SurveyJS functions.\n\n# `round()`\n\nRounds a given number to a specified number of decimals.\n\n## Signature\n\n\n\n\n```{js}\nround(\n    number: number | string,\n    decimals: number\n)\n```\n\n\n\n\n## Arguments\n\n**`number`** : _number | string_<br>\nNumber to be rounded. Can be a number, an expression that evaluates to number, or a string with either the name of a question or the name of a variable. See examples.\n\n**`decimals`** : _number_<br>\nHow many decimals should the number be rounded to?\n\n## Examples\n\n::: {#f7bbdc47 .cell execution_count=1}\n``` {.python .cell-code}\n# Use with calculated values\nvls.survey(\n    somePages,\n    calculatedValues=[\n        {\"name\": \"BMI\", \"expression\": \"round({weight} / ({height} * {height}), 1)\"}\n    ],\n)\n```\n:::\n\n\n# `random()`\n\nGenerate a random integer that will evaluate either every time a value is changed or one each survey. See the `seed` argument for details.\n\n## Signature\n\n\n\n\n```{js}\nrandom(\n    min: number,\n    max: number,\n    seed: any\n)\n```\n\n\n\n\n## Arguments\n\n**`min`** : _number_<br>\nThe minimum value the return value can get (inclusive).\n\n**`max`** : _number_<br>\nThe maximum value the return value can get (inclusive).\n\n**`seed`** : _any_<br>\n[Random seed](https://en.wikipedia.org/wiki/Random_seed) for the generator[^1]. Set if you want the number not to change for a particular participant once randomly selected. Can be anything, e.g. the name of the calculated value or some other label. If not set, the number will be set randomly each time a survey value changes (e.g. a question is answered). Do not repeat seeds, repeated seed will result in the same random value selected. See examples.\n\n[^1]: Technically the value of this argument is concatenated with the participant's random ID, so the seed could be different for each participant.\n\n## Examples\n\n::: {#4c48cd84 .cell execution_count=2}\n``` {.python .cell-code}\n# Use to create subgroups\nvls.survey(\n    vls.page(\n        \"manipulation_page\",\n        vls.info(\"manipulation\", \"## You are stupid!\"),\n        visibleIf=\"{group} = 1 and {subgroup} = 5\",  # show only to 1/5 of the first group\n    ),\n    numberOfGroups=2,\n    calculatedValues=[\n        {\n            \"name\": \"subgroup\",\n            \"expression\": \"random(1, 5, 'subgroup')\",  # set seed if the value should be selected once and once only\n        }\n    ],\n)\n```\n:::\n\n\n",
    "supporting": [
      "customExpressionFunctions_files"
    ],
    "filters": [],
    "includes": {}
  }
}